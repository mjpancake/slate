# 副露与暗杠 `M37`

下文中「副露与暗杠」统称为*bark*。

## 获取 bark 类型

`local <type> = <m>:type()`

参数 | 类型 | 描述
---- | ---- | ----
`<m>` | userdata `M37` | 一个`M37`对象

返回值 | 类型 | 描述
------ | ---- | ----
`<type>` | string | bark 的类型

返回值为 `"chii"`, `"pon"`, `"daiminkan"`,`"ankan"`, `"kakan"`中的一个。

## 获取 bark 中的一张牌

`local <t> = <m>[<index>]`

参数 | 类型 | 描述
---- | ---- | ----
`<m>` | userdata `M37` | 一个`M37`对象
`<index>` | number | 下标

通过下标获取 meld 中的一张牌。
对于吃、碰，下标的范围是 1～3；
对于杠，下标范围是 1～4。

吃的下樯顺序是数牌的数值顺序。
碰与大明杠的下标顺序是实际摆放的顺序，
如果大明杠来自对家，则横放的是`<m>[2]`，而不是`<m>[3]`。
暗杠的下樯顺序为「赤牌在前」。
加杠的前三张牌顺序同碰，第四张牌为加杠牌。


